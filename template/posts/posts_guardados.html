{% extends 'base.html' %}

{%block body%}

{%for guardado in guardados%}
{% if guardado.post.shared_post%}

<div class="card mb-3" style="max-width: 540px; margin-right: 10px;">
    <div class="row g-0">
        {%if guardado.post.shared_post.imagen%}
        <div class="col-md-4">
            <img src="{%if guardado.post.shared_post.imagen%}{{guardado.post.shared_post.imagen.url}}{%endif%}"
                class="img-fluid rounded-start" alt="...">
        </div>
        {%endif %}
        <div class="col-md-8">
            <div class="card-body">
                {% if guardado.post.shared_post%}
                <h4 class="card-title">{{guardado.post.shared_body}}</h4>
                <h5 class="card-title">{{guardado.post.shared_post.contenido}}</h5>
                <p class="card-text">Agregado desde la publicacion de {{guardado.post.usuario}}</p>
                <button class="" type="button" id="dropdown1" data-toggle="dropdown" aria-label="Close"
                    style="font-size: 25px; border: none; background: transparent;">...</button>
                <div class="dropdown-menu">
                    <button class=" dropdown-item" hx-post="{% url 'posts:borrar_guardado' guardado.id%}"
                        hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>Eliminar</button>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{%else %}
<div class="card mb-3" style="max-width: 540px; margin-right: 10px;">
    <div class="row g-0">
        {%if guardado.post.imagen%}
        <div class="col-md-4">
            <img src="{%if guardado.post.imagen%}{{guardado.post.imagen.url}}{%endif%}" class="img-fluid rounded-start"
                alt="...">
        </div>

        {%endif %}
        <div class="col-md-8">
            <div class="card-body">
                {% if guardado.post.shared_post%}
                <h4 class="card-title">{{guardado.post}}</h4>
                {% endif %}
                <h5 class="card-title">{{guardado.post.contenido}}</h5>
                <p class="card-text">Agregado desde la publicacion de {{guardado.post.usuario}}</p>
                <button class="" type="button" id="dropdown1" data-toggle="dropdown" aria-label="Close"
                    style="font-size: 25px; border: none; background: transparent;">...</button>
                <div class="dropdown-menu">
                    <button class=" dropdown-item" hx-post="{% url 'posts:borrar_guardado' guardado.id%}"
                        hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>Eliminar</button>
                </div>
            </div>
        </div>
    </div>
</div>
{%endif%}
{%endfor%}
{%endblock body%}